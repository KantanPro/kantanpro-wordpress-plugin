=== KTPWP ===
Contributors: kantanpro
Tags: workflow, order management, business, client, service, supplier, invoice, report
Requires at least: 5.0
Tested up to: 6.5
Stable tag: 1.0.0
License: GPLv2 or later
License URI: https://www.gnu.org/licenses/gpl-2.0.html

総合的なビジネス管理を実現するWordPressプラグイン

== 説明 ==

KTPWPは、WordPress上で動作する包括的なビジネス管理プラグインです。
受注処理、顧客管理、サービス管理、仕入先管理、レポート機能、各種設定までを一元管理できます。

= 主な機能 =

**7つの管理タブで完全なワークフロー管理**

1. **仕事リスト** - 受注案件の進捗管理とステータス追跡
2. **伝票処理** - 受注書作成・編集・印刷・請求項目管理
3. **得意先** - 顧客情報管理・注文履歴表示・印刷テンプレート
4. **サービス** - サービス・商品マスター管理・価格設定
5. **協力会社** - 仕入先・外注先情報管理・支払条件設定
6. **レポート** - 売上分析・進捗状況・データ集計
7. **設定** - 宛名印刷テンプレート・システム設定

= 主要機能詳細 =

**受注管理機能**
* 6段階の進捗管理（受付中→見積中→作成中→完成未請求→請求済→入金済）
* プロジェクト名・顧客情報・担当者・金額・進捗の一元管理
* 受注書の作成・編集・プレビュー・印刷機能
* 請求項目とコスト項目の詳細管理
* スタッフ間のチャット機能

**顧客管理機能**
* 会社名・担当者・連絡先・住所情報の管理
* 締め日・支払月・支払日・支払方法の設定
* 顧客別注文履歴の表示
* 宛名印刷テンプレートの活用
* 対象・対象外ステータス管理

**サービス管理機能**
* サービス名・価格・単位・カテゴリーの管理
* 頻度データによる利用状況の把握
* カテゴリー別分類とソート機能
* 受注書への簡単なサービス追加

**仕入先管理機能**
* 協力会社・外注先の詳細情報管理
* 支払条件・税区分の設定
* 代表者名・連絡先・住所情報
* カテゴリー分類と検索機能

**レポート機能**
* 売上推移グラフ
* 進捗別受注件数の集計
* 顧客別売上分析
* 月次・年次レポート

**印刷・テンプレート機能**
* 受注書の印刷レイアウト
* 宛名印刷テンプレート（郵便番号、住所、会社名等の置換機能）
* プレビュー機能で印刷前確認
* カスタマイズ可能なテンプレート

= セキュリティ対策 =

* SQLインジェクション防止
* XSS（クロスサイトスクリプティング）保護
* CSRF（クロスサイトリクエストフォージェリ）対策
* ファイルアップロードの検証
* ユーザー権限の適切な制御
* データベースアクセスの安全な処理

= 操作性・利便性 =

* 直感的なタブ型インターフェース
* ページネーション機能で大量データも快適
* ソート機能（ID、名前、日付、カテゴリー、頻度等）
* 検索・フィルタリング機能
* リアルタイムプレビュー
* レスポンシブデザイン対応

== インストール ==

1. **プラグインのアップロード**
   プラグインファイルを `/wp-content/plugins/` ディレクトリにアップロードするか、
   WordPressの管理画面の「プラグイン」→「新規追加」からインストールしてください。

2. **プラグインの有効化**
   WordPressの「プラグイン」画面でKTPWPを有効化してください。

3. **固定ページの作成**
   新しい固定ページを作成し、以下のショートコードを挿入してください：
   ```
   [ktpwp_all_tab]
   ```
   または
   ```
   [kantanAllTab]
   ```

4. **初期設定**
   管理画面の「KTPWP設定」から基本設定を行ってください。

== 使い方 ==

= 基本的な使い方 =

1. **ショートコードの設置**
   固定ページに `[ktpwp_all_tab]` を挿入すると、7つのタブが表示されます。

2. **顧客情報の登録**
   「得意先」タブから顧客情報を登録してください。

3. **サービスの登録**
   「サービス」タブから提供するサービス・商品を登録してください。

4. **受注書の作成**
   「伝票処理」タブから新規受注書を作成し、顧客とサービスを選択してください。

5. **進捗管理**
   「仕事リスト」タブで案件の進捗を管理してください。

= 進捗ステータス =

1. **受付中** - 新規受注、内容確認中
2. **見積中** - 見積作成・提案中
3. **作成中** - 作業実行中
4. **完成未請求** - 作業完了、請求書未発行
5. **請求済** - 請求書発行済み
6. **入金済** - 支払い完了

= 印刷機能 =

* **受注書印刷**: 「伝票処理」タブでプレビュー・印刷が可能
* **宛名印刷**: 「設定」タブでテンプレートを設定し、顧客情報を自動置換

= データの管理 =

* **ソート機能**: 各リストはID、名前、日付、カテゴリー等でソート可能
* **検索機能**: 各タブで条件検索が可能
* **ページネーション**: 大量データも快適に閲覧
* **削除管理**: 対象外設定で論理削除による安全な管理

== よくある質問 ==

= Q: このプラグインは安全ですか？ =
A: はい。SQLインジェクション防止、XSS保護、CSRF対策、ファイルアップロード検証など、
   包括的なセキュリティ対策が実装されています。

= Q: 既存のWordPressテーマに影響しますか？ =
A: いいえ。プラグイン専用のクラス名とCSSを使用しており、テーマとの競合を避ける設計になっています。

= Q: データのバックアップは必要ですか？ =
A: はい。重要なビジネスデータを扱うため、定期的なWordPressデータベースのバックアップを推奨します。

= Q: モバイルデバイスで使用できますか？ =
A: はい。レスポンシブデザインに対応しており、スマートフォンやタブレットでも使用できます。

= Q: 複数のユーザーで使用できますか？ =
A: はい。WordPressのユーザー権限機能を活用し、適切な権限を持つユーザーのみがアクセスできます。

= Q: データのエクスポートは可能ですか？ =
A: レポート機能で集計データの出力が可能です。詳細なエクスポート機能は今後のアップデートで提供予定です。

= Q: 受注書のレイアウトはカスタマイズできますか？ =
A: はい。設定タブでテンプレートの編集が可能です。HTML/CSSの知識があればより詳細なカスタマイズができます。

= Q: 税込み・税抜きの計算はどうなりますか？ =
A: 仕入先には税区分の設定があり、適切な税計算が行われます。詳細は設定画面で確認してください。

== スクリーンショット ==

1. **メインタブ画面** - 7つのタブが並ぶメイン画面
2. **仕事リスト** - 進捗別の受注案件一覧と管理画面
3. **伝票処理** - 受注書の作成・編集・印刷画面
4. **得意先管理** - 顧客情報と注文履歴の管理画面
5. **サービス管理** - サービス・商品マスターの管理画面
6. **協力会社管理** - 仕入先・外注先情報の管理画面
7. **レポート画面** - 売上分析とグラフ表示
8. **設定画面** - 宛名印刷テンプレートと各種設定

== 変更履歴 ==

= 1.0.0 =
* 正式リリース版
* プラグインリファレンス機能の実装
* リファレンスモーダルとAJAXコンテンツ読み込み機能
* 包括的なセキュリティ対策の実装
* 7つの主要機能タブの完全実装
* 受注管理、顧客管理、サービス管理、仕入先管理機能
* 印刷・プレビュー機能の最適化
* レポート・分析機能の強化
* レスポンシブデザイン対応の完成

= beta =
* 初回リリース
* 7つの主要機能タブを実装
* 受注管理、顧客管理、サービス管理、仕入先管理機能
* 印刷・プレビュー機能
* レポート・分析機能
* セキュリティ対策の実装
* レスポンシブデザイン対応

== アップグレード通知 ==

= 1.0.0 =
* 正式リリース版
* プラグインリファレンス機能が追加されました
* セキュリティとパフォーマンスが大幅に向上
* 全機能が本番環境で安定稼働
* 新機能のヘルプ・リファレンスモーダルを活用してください

= beta =
* 最初の本格リリース版
* 全機能が利用可能
* 本番環境での使用に最適化

== サポート ==

プラグインに関するお問い合わせやサポートは、以下までご連絡ください：

* **公式サイト**: https://www.kantan-pro.com/

== システム要件 ==
* WordPress 5.0 以上
* PHP 7.4 以上
* MySQL 5.6 以上 または MariaDB 10.0 以上
* 推奨メモリ: 256MB 以上
